import{u as g,q as m,r as x,j as t,p as h,I as r}from"./index-DRgDHYoO.js";import{u}from"./index-BFGkap1V.js";const y=l=>{const c=g(),i=m(),s=u(),a=s.state,{tag:e,text:o,visibility:n}=a,d=!!(e||o||n);return x.useEffect(()=>{s.clearFilter()},[i]),d?t.jsxs("div",{className:h("w-full flex flex-row justify-start items-start flex-wrap gap-2 text-sm leading-7 dark:text-gray-400",l.className),children:[t.jsxs("div",{className:"shrink-0 flex flex-row justify-start items-center text-gray-400",children:[t.jsx(r.Filter,{className:"w-4 h-auto mr-1"}),t.jsxs("span",{children:[c("common.filter"),":"]})]}),t.jsxs("div",{className:"max-w-xs flex flex-row justify-start items-center px-2 mr-2 cursor-pointer dark:text-gray-400 bg-gray-200 dark:bg-zinc-800 rounded whitespace-nowrap truncate hover:line-through "+(e?"":"!hidden"),onClick:()=>{s.setTagFilter(void 0)},children:[t.jsx(r.Tag,{className:"w-4 h-auto mr-1 text-gray-500 dark:text-gray-400"})," ",e,t.jsx(r.X,{className:"w-4 h-auto ml-1 opacity-40"})]}),t.jsxs("div",{className:"max-w-xs flex flex-row justify-start items-center px-2 mr-2 cursor-pointer dark:text-gray-400 bg-gray-200 dark:bg-zinc-800 rounded whitespace-nowrap truncate hover:line-through "+(n?"":"!hidden"),onClick:()=>{s.setMemoVisibilityFilter(void 0)},children:[t.jsx(r.Eye,{className:"w-4 h-auto mr-1 text-gray-500 dark:text-gray-400"})," ",n,t.jsx(r.X,{className:"w-4 h-auto ml-1 opacity-40"})]}),t.jsxs("div",{className:"max-w-xs flex flex-row justify-start items-center px-2 mr-2 cursor-pointer dark:text-gray-400 bg-gray-200 dark:bg-zinc-800 rounded whitespace-nowrap truncate hover:line-through "+(o?"":"!hidden"),onClick:()=>{s.setTextFilter(void 0)},children:[t.jsx(r.Search,{className:"w-4 h-auto mr-1 text-gray-500 dark:text-gray-400"})," ",o,t.jsx(r.X,{className:"w-4 h-auto ml-1 opacity-40"})]})]}):null},p=()=>{const l=m(),c=u(),{tag:i,text:s}=c.state;return x.useEffect(()=>{const a=new URLSearchParams(l.search),e=a.get("tag"),o=a.get("text");e&&c.setTagFilter(e),o&&c.setTextFilter(o)},[]),x.useEffect(()=>{const a=new URLSearchParams(l.search);i?a.set("tag",i):a.delete("tag"),s?a.set("text",s):a.delete("text");const e=a.toString();window.history.replaceState({},"",`${l.pathname}${(e==null?void 0:e.length)>0?`?${e}`:""}`)},[i,s]),{tag:i,text:s}};export{y as M,p as u};
