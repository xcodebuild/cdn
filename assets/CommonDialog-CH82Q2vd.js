import{au as p,av as m,aZ as v,a_ as C,a$ as S,b0 as N,j as e,b1 as T,b2 as j,b3 as k,r as g,p as x,u as E,s as w,I as B,B as D}from"./index-DRgDHYoO.js";import{l as I}from"./last-DXTTfs9a.js";const b=()=>({state:p(s=>s.dialog),getState:()=>m.getState().dialog,pushDialogStack:s=>{m.dispatch(v(s))},popDialogStack:()=>{m.dispatch(C())},removeDialog:s=>{m.dispatch(S(s))},topDialogStack:()=>I(m.getState().dialog.dialogStack)}),O=-1,A=200,U=3600*24*1e3,$=2,F=16,L=t=>{const{children:s,className:u,containerClassName:a,clickSpaceDestroy:r,dialogName:n,destroy:d}=t,l=b(),o=g.useRef(null),c=l.state.dialogStack.findIndex(i=>i===n);g.useEffect(()=>{l.pushDialogStack(n);const i=y=>{y.code==="Escape"&&n===l.topDialogStack()&&d()};return document.body.addEventListener("keydown",i),()=>{document.body.removeEventListener("keydown",i),l.removeDialog(n)}},[]),g.useEffect(()=>{c>0&&o.current&&(o.current.style.marginTop=`${c*16}px`)},[c]);const h=()=>{r&&d()};return e.jsx("div",{className:x("dialog-wrapper",u),onMouseDown:h,children:e.jsx("div",{ref:o,className:x("dialog-container",a),onMouseDown:i=>i.stopPropagation(),children:s})})};function _(t,s,u){const a=document.createElement("div"),r=N(a);document.body.append(a),document.body.style.overflow="hidden",setTimeout(()=>{var o;(o=a.firstElementChild)==null||o.classList.add("showup")},0);const n={destroy:()=>{var o,c;(o=a.firstElementChild)==null||o.classList.remove("showup"),(c=a.firstElementChild)==null||c.classList.add("showoff"),document.body.style.removeProperty("overflow"),setTimeout(()=>{r.unmount(),a.remove()},A)},hide:()=>{var o,c;(o=a.firstElementChild)==null||o.classList.remove("showup"),(c=a.firstElementChild)==null||c.classList.add("showoff")}},d={...u,destroy:n.destroy,hide:n.hide},l=e.jsx(T,{store:m,children:e.jsx(j,{theme:k,children:e.jsx(L,{destroy:n.destroy,hide:n.hide,clickSpaceDestroy:!0,...t,children:e.jsx(s,{...d})})})});return r.render(l),n}const f={title:"",content:"",style:"neutral",closeBtnText:"common.close",confirmBtnText:"common.confirm",onClose:()=>null,onConfirm:()=>null},P=t=>{const s=E(),{title:u,content:a,destroy:r,closeBtnText:n,confirmBtnText:d,onClose:l,onConfirm:o,style:c}={...f,closeBtnText:s(f.closeBtnText),confirmBtnText:s(f.confirmBtnText),...t},h=()=>{l(),r()},i=async()=>{o(),r()};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"dialog-header-container",children:[e.jsx("p",{className:"title-text",children:u}),e.jsx(w,{size:"sm",onClick:h,children:e.jsx(B.X,{className:"w-5 h-auto"})})]}),e.jsxs("div",{className:"dialog-content-container",children:[e.jsx("p",{className:"content-text",children:a}),e.jsxs("div",{className:"mt-4 w-full flex flex-row justify-end items-center gap-2",children:[e.jsx(D,{color:"neutral",variant:"plain",onClick:h,children:n}),e.jsx(D,{color:c,onClick:i,children:d})]})]})]})},K=t=>{_({className:`common-dialog ${(t==null?void 0:t.className)??""}`,dialogName:`common-dialog ${(t==null?void 0:t.className)??""}`},P,t)};export{F as D,$ as T,O as U,U as a,_ as g,K as s};
