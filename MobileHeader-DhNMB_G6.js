import{aS as I,r as i,y as G,j as f,am as Y,z as le,A as y,D as Q,G as N,E as ce,aT as de,aU as ue,J as fe,F as pe,S as X,K as W,aV as he,N as _,O as me,aW as be,aX as ve,aJ as ge,q as xe,s as ye,I as we,aY as Ee,b as Re,t as De,p as Ce}from"./index-DRKdyhzb.js";function J(...e){return e.reduce((t,o)=>o==null?t:function(...s){t.apply(this,s),o.apply(this,s)},()=>{})}function U(e){return I(e).defaultView||window}function ke(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const Te=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Pe(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function Ie(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let o=t(`[name="${e.name}"]:checked`);return o||(o=t(`[name="${e.name}"]`)),o!==e}function Se(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||Ie(e))}function Me(e){const t=[],o=[];return Array.from(e.querySelectorAll(Te)).forEach((r,s)=>{const n=Pe(r);n===-1||!Se(r)||(n===0?t.push(r):o.push({documentOrder:s,tabIndex:n,node:r}))}),o.sort((r,s)=>r.tabIndex===s.tabIndex?r.documentOrder-s.documentOrder:r.tabIndex-s.tabIndex).map(r=>r.node).concat(t)}function Ne(){return!0}function ze(e){const{children:t,disableAutoFocus:o=!1,disableEnforceFocus:r=!1,disableRestoreFocus:s=!1,getTabbable:n=Me,isEnabled:a=Ne,open:c}=e,p=i.useRef(!1),w=i.useRef(null),b=i.useRef(null),v=i.useRef(null),E=i.useRef(null),g=i.useRef(!1),d=i.useRef(null),T=G(t.ref,d),S=i.useRef(null);i.useEffect(()=>{!c||!d.current||(g.current=!o)},[o,c]),i.useEffect(()=>{if(!c||!d.current)return;const l=I(d.current);return d.current.contains(l.activeElement)||(d.current.hasAttribute("tabIndex")||d.current.setAttribute("tabIndex","-1"),g.current&&d.current.focus()),()=>{s||(v.current&&v.current.focus&&(p.current=!0,v.current.focus()),v.current=null)}},[c]),i.useEffect(()=>{if(!c||!d.current)return;const l=I(d.current),k=x=>{S.current=x,!(r||!a()||x.key!=="Tab")&&l.activeElement===d.current&&x.shiftKey&&(p.current=!0,b.current&&b.current.focus())},R=()=>{const x=d.current;if(x===null)return;if(!l.hasFocus()||!a()||p.current){p.current=!1;return}if(x.contains(l.activeElement)||r&&l.activeElement!==w.current&&l.activeElement!==b.current)return;if(l.activeElement!==E.current)E.current=null;else if(E.current!==null)return;if(!g.current)return;let m=[];if((l.activeElement===w.current||l.activeElement===b.current)&&(m=n(d.current)),m.length>0){var O,D;const j=!!((O=S.current)!=null&&O.shiftKey&&((D=S.current)==null?void 0:D.key)==="Tab"),F=m[0],A=m[m.length-1];typeof F!="string"&&typeof A!="string"&&(j?A.focus():F.focus())}else x.focus()};l.addEventListener("focusin",R),l.addEventListener("keydown",k,!0);const z=setInterval(()=>{l.activeElement&&l.activeElement.tagName==="BODY"&&R()},50);return()=>{clearInterval(z),l.removeEventListener("focusin",R),l.removeEventListener("keydown",k,!0)}},[o,r,s,a,c,n]);const M=l=>{v.current===null&&(v.current=l.relatedTarget),g.current=!0,E.current=l.target;const k=t.props.onFocus;k&&k(l)},P=l=>{v.current===null&&(v.current=l.relatedTarget),g.current=!0};return f.jsxs(i.Fragment,{children:[f.jsx("div",{tabIndex:c?0:-1,onFocus:P,ref:w,"data-testid":"sentinelStart"}),i.cloneElement(t,{ref:T,onFocus:M}),f.jsx("div",{tabIndex:c?0:-1,onFocus:P,ref:b,"data-testid":"sentinelEnd"})]})}function Oe(e){const t=I(e);return t.body===e?U(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function $(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function q(e){return parseInt(U(e).getComputedStyle(e).paddingRight,10)||0}function Fe(e){const o=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return o||r}function V(e,t,o,r,s){const n=[t,o,...r];[].forEach.call(e.children,a=>{const c=n.indexOf(a)===-1,p=!Fe(a);c&&p&&$(a,s)})}function K(e,t){let o=-1;return e.some((r,s)=>t(r)?(o=s,!0):!1),o}function je(e,t){const o=[],r=e.container;if(!t.disableScrollLock){if(Oe(r)){const a=ke(I(r));o.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${q(r)+a}px`;const c=I(r).querySelectorAll(".mui-fixed");[].forEach.call(c,p=>{o.push({value:p.style.paddingRight,property:"padding-right",el:p}),p.style.paddingRight=`${q(p)+a}px`})}let n;if(r.parentNode instanceof DocumentFragment)n=I(r).body;else{const a=r.parentElement,c=U(r);n=(a==null?void 0:a.nodeName)==="HTML"&&c.getComputedStyle(a).overflowY==="scroll"?a:r}o.push({value:n.style.overflow,property:"overflow",el:n},{value:n.style.overflowX,property:"overflow-x",el:n},{value:n.style.overflowY,property:"overflow-y",el:n}),n.style.overflow="hidden"}return()=>{o.forEach(({value:n,el:a,property:c})=>{n?a.style.setProperty(c,n):a.style.removeProperty(c)})}}function Ae(e){const t=[];return[].forEach.call(e.children,o=>{o.getAttribute("aria-hidden")==="true"&&t.push(o)}),t}class $e{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,o){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&$(t.modalRef,!1);const s=Ae(o);V(o,t.mount,t.modalRef,s,!0);const n=K(this.containers,a=>a.container===o);return n!==-1?(this.containers[n].modals.push(t),r):(this.containers.push({modals:[t],container:o,restore:null,hiddenSiblings:s}),r)}mount(t,o){const r=K(this.containers,n=>n.modals.indexOf(t)!==-1),s=this.containers[r];s.restore||(s.restore=je(s,o))}remove(t,o=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const s=K(this.containers,a=>a.modals.indexOf(t)!==-1),n=this.containers[s];if(n.modals.splice(n.modals.indexOf(t),1),this.modals.splice(r,1),n.modals.length===0)n.restore&&n.restore(),t.modalRef&&$(t.modalRef,o),V(n.container,t.mount,t.modalRef,n.hiddenSiblings,!1),this.containers.splice(s,1);else{const a=n.modals[n.modals.length-1];a.modalRef&&$(a.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function He(e){return typeof e=="function"?e():e}function Le(e){return e?e.props.hasOwnProperty("in"):!1}const Be=new $e;function We(e){const{container:t,disableEscapeKeyDown:o=!1,disableScrollLock:r=!1,manager:s=Be,closeAfterTransition:n=!1,onTransitionEnter:a,onTransitionExited:c,children:p,onClose:w,open:b,rootRef:v}=e,E=i.useRef({}),g=i.useRef(null),d=i.useRef(null),T=G(d,v),[S,M]=i.useState(!b),P=Le(p);let l=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(l=!1);const k=()=>I(g.current),R=()=>(E.current.modalRef=d.current,E.current.mount=g.current,E.current),z=()=>{s.mount(R(),{disableScrollLock:r}),d.current&&(d.current.scrollTop=0)},x=Y(()=>{const h=He(t)||k().body;s.add(R(),h),d.current&&z()}),m=i.useCallback(()=>s.isTopModal(R()),[s]),O=Y(h=>{g.current=h,h&&(b&&m()?z():d.current&&$(d.current,l))}),D=i.useCallback(()=>{s.remove(R(),l)},[l,s]);i.useEffect(()=>()=>{D()},[D]),i.useEffect(()=>{b?x():(!P||!n)&&D()},[b,D,P,n,x]);const j=h=>u=>{var C;(C=h.onKeyDown)==null||C.call(h,u),!(u.key!=="Escape"||u.which===229||!m())&&(o||(u.stopPropagation(),w&&w(u,"escapeKeyDown")))},F=h=>u=>{var C;(C=h.onClick)==null||C.call(h,u),u.target===u.currentTarget&&w&&w(u,"backdropClick")};return{getRootProps:(h={})=>{const u=le(e);delete u.onTransitionEnter,delete u.onTransitionExited;const C=y({},u,h);return y({role:"presentation"},C,{onKeyDown:j(C),ref:T})},getBackdropProps:(h={})=>{const u=h;return y({"aria-hidden":!0},u,{onClick:F(u),open:b})},getTransitionProps:()=>{const h=()=>{M(!1),a&&a()},u=()=>{M(!0),c&&c(),n&&D()};return{onEnter:J(h,p==null?void 0:p.props.onEnter),onExited:J(u,p==null?void 0:p.props.onExited)}},rootRef:T,portalRef:O,isTopModal:m,exited:S,hasTransition:P}}const _e=i.createContext(void 0),Ke=_e,Ue=Q("MuiDialogTitle",["root","h1","h2","h3","h4","title-lg","title-md","title-sm","body-lg","body-md","body-sm","body-xs","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid"]),Ye=i.createContext(void 0),Xe=Ye,Je=i.createContext(void 0),qe=Je,Z=N("div")(({ownerState:e,theme:t})=>y({"--unstable_popup-zIndex":`calc(${t.vars.zIndex.modal} + 1)`,'& ~ [role="listbox"]':{"--unstable_popup-zIndex":`calc(${t.vars.zIndex.modal} + 1)`},position:"fixed",zIndex:t.vars.zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&{visibility:"hidden"}));N(Z,{name:"JoyModal",slot:"Root",overridesResolver:(e,t)=>t.root})({});const ee=N("div")(({theme:e})=>({zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:e.vars.palette.background.backdrop,WebkitTapHighlightColor:"transparent",backdropFilter:"blur(8px)"}));N(ee,{name:"JoyModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({});function Ve(e){return ce("MuiDrawer",e)}Q("MuiDrawer",["root","hidden","backdrop","content","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","sizeSm","sizeMd","sizeLg"]);const Ge=["children","anchor","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","color","variant","invertedColors","size","onClose","onKeyDown","open","component","slots","slotProps"],Qe=e=>{const{open:t,variant:o,color:r,size:s}=e,n={root:["root",!t&&"hidden",o&&`variant${_(o)}`,r&&`color${_(r)}`,s&&`size${_(s)}`],backdrop:["backdrop"],content:["content"]};return me(n,Ve,{})},Ze=N(Z,{name:"JoyDrawer",slot:"Root",overridesResolver:(e,t)=>t.root})(({ownerState:e})=>y({"--Drawer-transitionDuration":"0.3s","--Drawer-transitionFunction":"ease","--ModalClose-radius":"max((var(--Drawer-contentRadius) - var(--variant-borderWidth, 0px)) - var(--ModalClose-inset), min(var(--ModalClose-inset) / 2, (var(--Drawer-contentRadius) - var(--variant-borderWidth, 0px)) / 2))"},e.size==="sm"&&{"--ModalClose-inset":"0.5rem","--Drawer-verticalSize":"clamp(350px, 30%, 100%)","--Drawer-horizontalSize":"clamp(256px, 20%, 100%)","--Drawer-titleMargin":"0.625rem 0.75rem calc(0.625rem / 2)"},e.size==="md"&&{"--ModalClose-inset":"0.5rem","--Drawer-verticalSize":"clamp(400px, 45%, 100%)","--Drawer-horizontalSize":"clamp(300px, 30%, 100%)","--Drawer-titleMargin":"0.75rem 0.75rem calc(0.75rem / 2)"},e.size==="lg"&&{"--ModalClose-inset":"0.75rem","--Drawer-verticalSize":"clamp(500px, 60%, 100%)","--Drawer-horizontalSize":"clamp(440px, 60%, 100%)","--Drawer-titleMargin":"1rem 1rem calc(1rem / 2)"},{transitionProperty:"visibility",transitionDelay:e.open?"0s":"var(--Drawer-transitionDuration)"},!e.open&&{visibility:"hidden"})),et=N(ee,{name:"JoyDrawer",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})(({ownerState:e})=>({opacity:e.open?1:0,transition:"opacity var(--Drawer-transitionDuration) ease-in-out"})),tt=N("div",{name:"JoyDrawer",slot:"Content",overridesResolver:(e,t)=>t.content})(({theme:e,ownerState:t})=>{var o;return y({},e.typography[`body-${t.size}`],{boxShadow:e.shadow.md,backgroundColor:e.vars.palette.background.surface,outline:0,display:"flex",flexDirection:"column",position:"fixed",boxSizing:"border-box",overflow:"auto"},t.anchor==="left"&&{top:0,left:0,transform:t.open?"translateX(0)":"translateX(-100%)"},t.anchor==="right"&&{top:0,right:0,transform:t.open?"translateX(0)":"translateX(100%)"},t.anchor==="top"&&{top:0,transform:t.open?"translateY(0)":"translateY(-100%)"},t.anchor==="bottom"&&{bottom:0,transform:t.open?"translateY(0)":"translateY(100%)"},{height:t.anchor.match(/(left|right)/)?"100%":"min(100vh, var(--Drawer-verticalSize))",width:t.anchor.match(/(top|bottom)/)?"100vw":"min(100vw, var(--Drawer-horizontalSize))",transition:"transform var(--Drawer-transitionDuration) var(--Drawer-transitionFunction)"},t.variant==="solid"&&t.color&&t.invertedColors&&ue(t.color)(e),t.variant==="soft"&&t.color&&t.invertedColors&&de(t.color)(e),(o=e.variants[t.variant])==null?void 0:o[t.color],{[`& > .${Ue.root}`]:{"--unstable_DialogTitle-margin":"var(--Drawer-titleMargin)"}})}),rt=i.forwardRef(function(t,o){const r=fe({props:t,name:"JoyDrawer"}),{children:s,anchor:n="left",container:a,disableAutoFocus:c=!1,disableEnforceFocus:p=!1,disableEscapeKeyDown:w=!1,disablePortal:b=!1,disableRestoreFocus:v=!1,disableScrollLock:E=!1,hideBackdrop:g=!1,color:d="neutral",variant:T="plain",invertedColors:S=!1,size:M="md",onClose:P,open:l,component:k,slots:R={},slotProps:z={}}=r,x=pe(r,Ge),m=y({},r,{anchor:n,disableAutoFocus:c,disableEnforceFocus:p,disableEscapeKeyDown:w,disablePortal:b,disableRestoreFocus:v,disableScrollLock:E,hideBackdrop:g,invertedColors:S,color:d,variant:T,size:M}),{getRootProps:O,getBackdropProps:D,rootRef:j,portalRef:F,isTopModal:A}=We(y({},m,{rootRef:o,children:null})),H=Qe(m),L=y({},x,{component:k,slots:R,slotProps:z}),h=X(),u=X(),C=i.useMemo(()=>({variant:T,color:d,labelledBy:h,describedBy:u}),[d,T,h,u]),[re,oe]=W("root",{ref:j,className:H.root,elementType:Ze,externalForwardedProps:L,getSlotProps:O,ownerState:m}),[ne,se]=W("backdrop",{className:H.backdrop,elementType:et,externalForwardedProps:L,getSlotProps:D,ownerState:m}),[ae,ie]=W("content",{className:H.content,elementType:tt,additionalProps:{tabIndex:-1,role:"dialog","aria-modal":"true","aria-labelledby":h,"aria-describedby":u},externalForwardedProps:L,ownerState:m});return f.jsx(qe.Provider,{value:P,children:f.jsx(Xe.Provider,{value:M,children:f.jsx(Ke.Provider,{value:C,children:f.jsx(he,{ref:F,container:a,disablePortal:b,children:f.jsxs(re,y({},oe,{children:[g?null:f.jsx(ne,y({},se)),f.jsx(ze,{disableEnforceFocus:p,disableAutoFocus:c,disableRestoreFocus:v,isEnabled:A,open:l,children:f.jsx(ae,y({},ie,{children:s}))})]}))})})})})}),ot=rt;var te={};Object.defineProperty(te,"__esModule",{value:!0});var nt=ve,st=i,B=ge,at=nt.__importDefault(be()),it=function(){var e=at.default(function(){return{x:B.isBrowser?window.pageXOffset:0,y:B.isBrowser?window.pageYOffset:0}}),t=e[0],o=e[1];return st.useEffect(function(){var r=function(){o(function(s){var n=window.pageXOffset,a=window.pageYOffset;return s.x!==n||s.y!==a?{x:n,y:a}:s})};return r(),B.on(window,"scroll",r,{capture:!1,passive:!0}),function(){B.off(window,"scroll",r)}},[]),t},lt=te.default=it;const ct=()=>{const e=xe(),[t,o]=i.useState(!1);i.useEffect(()=>{o(!1)},[e.pathname]);const r=s=>n=>{n.type==="keydown"&&(n.key==="Tab"||n.key==="Shift")||o(s)};return f.jsxs(f.Fragment,{children:[f.jsx(ye,{onClick:r(!0),children:f.jsx(we.Menu,{className:"w-5 h-auto dark:text-gray-400"})}),f.jsx(ot,{anchor:"left",size:"sm",open:t,onClose:r(!1),children:f.jsx("div",{className:"w-full h-full overflow-auto px-4 bg-zinc-100 dark:bg-zinc-900",children:f.jsx(Ee,{})})})]})},ut=e=>{const t=Re(),{systemStatus:o}=t.state,{className:r,children:s}=e,{sm:n}=De(),[a]=i.useState("Memos"),{y:c}=lt();return f.jsxs("div",{className:Ce("sticky top-0 pt-3 pb-2 sm:pt-2 px-4 sm:px-6 sm:mb-1 bg-zinc-100 dark:bg-zinc-900 bg-opacity-80 backdrop-blur-lg flex md:hidden flex-row justify-between items-center w-full h-auto flex-nowrap shrink-0 z-1",c>0&&"shadow-md",r),children:[f.jsxs("div",{className:"flex flex-row justify-start items-center mr-2 shrink-0 overflow-hidden",children:[!n&&f.jsx(ct,{}),f.jsx("span",{className:"font-bold text-lg leading-10 mr-1 text-ellipsis shrink-0 cursor-pointer overflow-hidden text-gray-700 dark:text-gray-300",onDoubleClick:()=>location.reload(),children:o.customizedProfile.name||a})]}),f.jsx("div",{className:"flex flex-row justify-end items-center",children:s})]})};export{ot as D,ut as M,U as o};
