import{bF as f,c7 as H,c8 as se,c6 as ne,c9 as ie,c5 as P,ba as Y,bk as F,ca as j,c3 as q,b4 as ae,be as oe,bj as ue,bg as E,cb as he,bB as de,c4 as J,cc as ce,cd as fe,at as ge,bi as D}from"./index-DRKdyhzb.js";import{J as A,K as N,L as le,N as Q,O as be,P as _e,Q as pe,R as me,S as ye,T as Te,U as M}from"./index-2UGuc62r.js";import{b as je,e as y}from"./index-BG_UZG-p.js";import{b as v,a as Ee}from"./_baseEach-BJud54y0.js";import{v as C}from"./values-DHFoHTxW.js";function W(t,e){for(var r=-1,s=t==null?0:t.length;++r<s&&e(t[r],r,t)!==!1;);return t}function Ae(t,e,r,s){var n=-1,i=t==null?0:t.length;for(s&&i&&(r=t[++n]);++n<i;)r=e(r,t[n],n,t);return r}function Ce(t,e){return t&&A(e,f(e),t)}function Oe(t,e){return t&&A(e,N(e),t)}function Le(t,e){return A(t,H(t),e)}var Fe=Object.getOwnPropertySymbols,X=Fe?function(t){for(var e=[];t;)ne(e,H(t)),t=le(t);return e}:se;function Ne(t,e){return A(t,X(t),e)}function ve(t){return ie(t,N,X)}var we=Object.prototype,Se=we.hasOwnProperty;function $e(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&Se.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function Ie(t,e){var r=e?Q(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var Pe=/\w*$/;function De(t){var e=new t.constructor(t.source,Pe.exec(t));return e.lastIndex=t.lastIndex,e}var x=P?P.prototype:void 0,U=x?x.valueOf:void 0;function Me(t){return U?Object(U.call(t)):{}}var xe="[object Boolean]",Ue="[object Date]",Ge="[object Map]",Be="[object Number]",Re="[object RegExp]",Ke="[object Set]",Ve="[object String]",He="[object Symbol]",Ye="[object ArrayBuffer]",qe="[object DataView]",Je="[object Float32Array]",Qe="[object Float64Array]",We="[object Int8Array]",Xe="[object Int16Array]",Ze="[object Int32Array]",ze="[object Uint8Array]",ke="[object Uint8ClampedArray]",et="[object Uint16Array]",tt="[object Uint32Array]";function rt(t,e,r){var s=t.constructor;switch(e){case Ye:return Q(t);case xe:case Ue:return new s(+t);case qe:return Ie(t,r);case Je:case Qe:case We:case Xe:case Ze:case ze:case ke:case et:case tt:return be(t,r);case Ge:return new s;case Be:case Ve:return new s(t);case Re:return De(t);case Ke:return new s;case He:return Me(t)}}var st="[object Map]";function nt(t){return Y(t)&&F(t)==st}var G=j&&j.isMap,it=G?q(G):nt,at="[object Set]";function ot(t){return Y(t)&&F(t)==at}var B=j&&j.isSet,ut=B?q(B):ot,ht=1,dt=2,ct=4,Z="[object Arguments]",ft="[object Array]",gt="[object Boolean]",lt="[object Date]",bt="[object Error]",z="[object Function]",_t="[object GeneratorFunction]",pt="[object Map]",mt="[object Number]",k="[object Object]",yt="[object RegExp]",Tt="[object Set]",jt="[object String]",Et="[object Symbol]",At="[object WeakMap]",Ct="[object ArrayBuffer]",Ot="[object DataView]",Lt="[object Float32Array]",Ft="[object Float64Array]",Nt="[object Int8Array]",vt="[object Int16Array]",wt="[object Int32Array]",St="[object Uint8Array]",$t="[object Uint8ClampedArray]",It="[object Uint16Array]",Pt="[object Uint32Array]",u={};u[Z]=u[ft]=u[Ct]=u[Ot]=u[gt]=u[lt]=u[Lt]=u[Ft]=u[Nt]=u[vt]=u[wt]=u[pt]=u[mt]=u[k]=u[yt]=u[Tt]=u[jt]=u[Et]=u[St]=u[$t]=u[It]=u[Pt]=!0;u[bt]=u[z]=u[At]=!1;function O(t,e,r,s,n,i){var a,o=e&ht,h=e&dt,te=e&ct;if(r&&(a=n?r(t,s,n,i):r(t)),a!==void 0)return a;if(!ae(t))return t;var w=E(t);if(w){if(a=$e(t),!o)return _e(t,a)}else{var _=F(t),S=_==z||_==_t;if(oe(t))return pe(t,o);if(_==k||_==Z||S&&!n){if(a=h||S?{}:me(t),!o)return h?Ne(t,Oe(a,t)):Le(t,Ce(a,t))}else{if(!u[_])return n?t:{};a=rt(t,_,o)}}i||(i=new ue);var $=i.get(t);if($)return $;i.set(t,a),ut(t)?t.forEach(function(d){a.add(O(d,e,r,d,t,i))}):it(t)&&t.forEach(function(d,g){a.set(g,O(d,e,r,g,t,i))});var re=te?h?ve:he:h?N:f,I=w?void 0:re(t);return W(I||t,function(d,g){I&&(g=d,d=t[g]),ye(a,g,O(d,e,r,g,t,i))}),a}function Dt(t){return typeof t=="function"?t:de}function l(t,e){var r=E(t)?W:v;return r(t,Dt(e))}function Mt(t,e){var r=[];return v(t,function(s,n,i){e(s,n,i)&&r.push(s)}),r}function T(t,e){var r=E(t)?ce:Mt;return r(t,J(e))}var xt=Object.prototype,Ut=xt.hasOwnProperty;function Gt(t,e){return t!=null&&Ut.call(t,e)}function c(t,e){return t!=null&&fe(t,e,Gt)}function p(t){return t===void 0}function Bt(t,e,r,s,n){return n(t,function(i,a,o){r=s?(s=!1,i):e(r,i,a,o)}),r}function Rt(t,e,r){var s=E(t)?Ae:Bt,n=arguments.length<3;return s(t,J(e),r,n,v)}var Kt=je(function(t){return ge(Ee(t,1,Te,!0))}),Vt="\0",b="\0",R="";class ee{constructor(e={}){this._isDirected=c(e,"directed")?e.directed:!0,this._isMultigraph=c(e,"multigraph")?e.multigraph:!1,this._isCompound=c(e,"compound")?e.compound:!1,this._label=void 0,this._defaultNodeLabelFn=y(void 0),this._defaultEdgeLabelFn=y(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[b]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(e){return this._label=e,this}graph(){return this._label}setDefaultNodeLabel(e){return D(e)||(e=y(e)),this._defaultNodeLabelFn=e,this}nodeCount(){return this._nodeCount}nodes(){return f(this._nodes)}sources(){var e=this;return T(this.nodes(),function(r){return M(e._in[r])})}sinks(){var e=this;return T(this.nodes(),function(r){return M(e._out[r])})}setNodes(e,r){var s=arguments,n=this;return l(e,function(i){s.length>1?n.setNode(i,r):n.setNode(i)}),this}setNode(e,r){return c(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=r),this):(this._nodes[e]=arguments.length>1?r:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=b,this._children[e]={},this._children[b][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)}node(e){return this._nodes[e]}hasNode(e){return c(this._nodes,e)}removeNode(e){var r=this;if(c(this._nodes,e)){var s=function(n){r.removeEdge(r._edgeObjs[n])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],l(this.children(e),function(n){r.setParent(n)}),delete this._children[e]),l(f(this._in[e]),s),delete this._in[e],delete this._preds[e],l(f(this._out[e]),s),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this}setParent(e,r){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(p(r))r=b;else{r+="";for(var s=r;!p(s);s=this.parent(s))if(s===e)throw new Error("Setting "+r+" as parent of "+e+" would create a cycle");this.setNode(r)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=r,this._children[r][e]=!0,this}_removeFromParentsChildList(e){delete this._children[this._parent[e]][e]}parent(e){if(this._isCompound){var r=this._parent[e];if(r!==b)return r}}children(e){if(p(e)&&(e=b),this._isCompound){var r=this._children[e];if(r)return f(r)}else{if(e===b)return this.nodes();if(this.hasNode(e))return[]}}predecessors(e){var r=this._preds[e];if(r)return f(r)}successors(e){var r=this._sucs[e];if(r)return f(r)}neighbors(e){var r=this.predecessors(e);if(r)return Kt(r,this.successors(e))}isLeaf(e){var r;return this.isDirected()?r=this.successors(e):r=this.neighbors(e),r.length===0}filterNodes(e){var r=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});r.setGraph(this.graph());var s=this;l(this._nodes,function(a,o){e(o)&&r.setNode(o,a)}),l(this._edgeObjs,function(a){r.hasNode(a.v)&&r.hasNode(a.w)&&r.setEdge(a,s.edge(a))});var n={};function i(a){var o=s.parent(a);return o===void 0||r.hasNode(o)?(n[a]=o,o):o in n?n[o]:i(o)}return this._isCompound&&l(r.nodes(),function(a){r.setParent(a,i(a))}),r}setDefaultEdgeLabel(e){return D(e)||(e=y(e)),this._defaultEdgeLabelFn=e,this}edgeCount(){return this._edgeCount}edges(){return C(this._edgeObjs)}setPath(e,r){var s=this,n=arguments;return Rt(e,function(i,a){return n.length>1?s.setEdge(i,a,r):s.setEdge(i,a),a}),this}setEdge(){var e,r,s,n,i=!1,a=arguments[0];typeof a=="object"&&a!==null&&"v"in a?(e=a.v,r=a.w,s=a.name,arguments.length===2&&(n=arguments[1],i=!0)):(e=a,r=arguments[1],s=arguments[3],arguments.length>2&&(n=arguments[2],i=!0)),e=""+e,r=""+r,p(s)||(s=""+s);var o=m(this._isDirected,e,r,s);if(c(this._edgeLabels,o))return i&&(this._edgeLabels[o]=n),this;if(!p(s)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(r),this._edgeLabels[o]=i?n:this._defaultEdgeLabelFn(e,r,s);var h=Ht(this._isDirected,e,r,s);return e=h.v,r=h.w,Object.freeze(h),this._edgeObjs[o]=h,K(this._preds[r],e),K(this._sucs[e],r),this._in[r][o]=h,this._out[e][o]=h,this._edgeCount++,this}edge(e,r,s){var n=arguments.length===1?L(this._isDirected,arguments[0]):m(this._isDirected,e,r,s);return this._edgeLabels[n]}hasEdge(e,r,s){var n=arguments.length===1?L(this._isDirected,arguments[0]):m(this._isDirected,e,r,s);return c(this._edgeLabels,n)}removeEdge(e,r,s){var n=arguments.length===1?L(this._isDirected,arguments[0]):m(this._isDirected,e,r,s),i=this._edgeObjs[n];return i&&(e=i.v,r=i.w,delete this._edgeLabels[n],delete this._edgeObjs[n],V(this._preds[r],e),V(this._sucs[e],r),delete this._in[r][n],delete this._out[e][n],this._edgeCount--),this}inEdges(e,r){var s=this._in[e];if(s){var n=C(s);return r?T(n,function(i){return i.v===r}):n}}outEdges(e,r){var s=this._out[e];if(s){var n=C(s);return r?T(n,function(i){return i.w===r}):n}}nodeEdges(e,r){var s=this.inEdges(e,r);if(s)return s.concat(this.outEdges(e,r))}}ee.prototype._nodeCount=0;ee.prototype._edgeCount=0;function K(t,e){t[e]?t[e]++:t[e]=1}function V(t,e){--t[e]||delete t[e]}function m(t,e,r,s){var n=""+e,i=""+r;if(!t&&n>i){var a=n;n=i,i=a}return n+R+i+R+(p(s)?Vt:s)}function Ht(t,e,r,s){var n=""+e,i=""+r;if(!t&&n>i){var a=n;n=i,i=a}var o={v:n,w:i};return s&&(o.name=s),o}function L(t,e){return m(t,e.v,e.w,e.name)}export{ee as G,T as a,O as b,Dt as c,l as f,c as h,p as i,Rt as r};
